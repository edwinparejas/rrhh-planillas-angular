<div class="page-layout carded fullwidth  p-0"> 
    <div class="page-layout carded left-sidebar">
	<div class="content" >
	    <div fxLayout="row" fxLayout.lt-md="column">
		<div fxLayout="row" fxLayout.xs="column" fxFlex="100%" fxFlex.xs="100%" fxLayoutGap="12px" fxLayoutGap.xs="0">
		    <div fxFlex="50%">
			<h3 class="titulo">{{dialogTitle}}</h3>
		    </div>
		    <div fxFlex="50%">
			<ol class="breadcrumb pull-right">
			    <li><a [routerLink]="['/ayni/personal/inicio']"><mat-icon color="accent" class="s-18">home</mat-icon> Inicio</a></li>
			    <li class="active"><a [routerLink]="['/ayni/personal/procesospersonal/procesos/contratacion']">Contratación</a></li>
			    <li class="active"><a [routerLink]="['/ayni/personal/procesospersonal/procesos/contratacion/contratacion-directa/bandeja-adjudicaciones/',idEtapaProceso]">Adjudicación</a></li>
			</ol>
		    </div>
		</div>
	    </div>

	    <div class="panel">
		<div class="p-20">
		    <fieldset class="fieldset-border mt-0 mb-12">
			<legend>Datos del Postulante</legend>
			<div fxLayout="row" fxLayout.lt-md="column">
			    <div fxLayout="row" fxLayout.xs="column" fxFlex="100%" fxFlex.xs="100%" fxLayoutGap="12px" fxLayoutGap.xs="0">
				<div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
				    <div>
					<span class="label">Documento de Identidad</span><br>
					<span class="label-normal">{{adjudicacion?.documento}}</span>
				    </div>
				</div>
				<div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
				    <div>
					<span class="label">Primer Apellido</span><br>
					<span class="label-normal">{{adjudicacion?.primer_apellido}}</span>
				    </div>
				</div>
				<div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
				    <div>
					<span class="label">Segundo Apellido</span><br>
					<span class="label-normal">{{adjudicacion?.segundo_apellido}}</span>
				    </div>
				</div>
				<div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
				    <div>
					<span class="label">Nombres</span><br>
					<span class="label-normal">{{adjudicacion?.nombres}}</span>
				    </div>
				</div>
			    </div>
			</div>
			<div fxLayout="row" fxLayout.lt-md="column">
			    <div fxLayout="row" fxLayout.xs="column" fxFlex="100%" fxFlex.xs="100%" fxLayoutGap="12px" fxLayoutGap.xs="0">
				<div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
				    <div>
					<span class="label">Sexo</span><br>
					<span class="label-normal">{{adjudicacion?.genero}}</span>
				    </div>
				</div>
				<div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
				    <div>
					<span class="label">Fecha de Nacimiento</span><br>
					<span class="label-normal">{{adjudicacion?.fecha_nacimiento}}</span>
				    </div>
				</div>
				<div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
				    <div>
					<span class="label">Edad</span><br>
					<span class="label-normal">{{adjudicacion?.edad}}</span>
				    </div>
				</div>
				<div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
				    <div>
					<span class="label">Nacionalidad</span><br>
					<span class="label-normal">{{adjudicacion?.nacionalidad}}</span>
				    </div>
				</div>
			    </div>
			</div>
			<!-- <div fxLayout="row" fxLayout.lt-md="column">
			    <div fxLayout="row" fxLayout.xs="column" fxFlex="100%" fxFlex.xs="100%" fxLayoutGap="12px" fxLayoutGap.xs="0">
			    <div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
			    <div>
			    <span class="label">Dirección de Domicilio (*)</span><br>
			    <input matInput  placeholder="Dirección de domicilio" maxlength="250" 
			    />
			    </div>
			    </div>
			    <div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
			    <div>
			    <span class="label">Correo electrónico (*)</span><br>
			    <input matInput  placeholder="Correo Electronico" maxlength="250" 
			    />
			    </div>
			    </div>
			    </div>
			    </div> -->
		    </fieldset>
		</div>
	    </div>

	    <div class="panel">
		<div class="panel-body">
		    <form [formGroup]="formGrid">
		    <div class="content-table">
			<mat-table 
			   class="minedu-table" 
			   #table 
			   [dataSource]="dtSourceAdjudicar" 
			   [class.isMobile]="isMobile"
			   [@animateStagger]="{ value: '50' }" 
			   formArrayName="ls_grid">
			    <ng-container matColumnDef="registro">
				<mat-header-cell *matHeaderCellDef class="mat-cell-center">N°</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index;" class="mat-cell-center">
				    <p>{{ i + 1 }}</p>
				</mat-cell>
			    </ng-container>                                
			    <ng-container matColumnDef="codigoModular">
				<mat-header-cell *matHeaderCellDef class="mat-cell-center">Código Modular</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index" class="mat-cell-center">
				    {{ row.codigo_modular }}
				</mat-cell>
			    </ng-container>
			    <ng-container matColumnDef="centroTrabajo">
				<mat-header-cell *matHeaderCellDef>Centro de Trabajo</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index">
				    {{ row.centro_trabajo }}
				</mat-cell>
			    </ng-container>
			    <!-- <ng-container matColumnDef="modalidad">
				<mat-header-cell *matHeaderCellDef>Modalidad</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index">
				    {{ row.modalidad }}
				</mat-cell>
			    </ng-container> -->                
			    <ng-container matColumnDef="nivelEducativo">
				<mat-header-cell *matHeaderCellDef>Nivel Educativo</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index">
				    {{ row.nivel_educativo }}
				</mat-cell>
			    </ng-container>
			    <ng-container matColumnDef="codigoPlaza">
				<mat-header-cell *matHeaderCellDef>Código Plaza</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index">
				    {{ row.codigo_plaza }}
				</mat-cell>
			    </ng-container>
			    <ng-container matColumnDef="cargo">
				<mat-header-cell *matHeaderCellDef class="mat-cell-center">Cargo</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index" class="mat-cell-center">
				    {{ row.descripcion_cargo }}
				</mat-cell>
			    </ng-container>
			    <ng-container matColumnDef="jornadaLaboral">
				<mat-header-cell *matHeaderCellDef class="mat-cell-center">Jornada Laboral</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index" class="mat-cell-center">
				    {{ row.jornada_laboral }}
				</mat-cell>
			    </ng-container>
			    <ng-container matColumnDef="tipoPlaza">
				<mat-header-cell *matHeaderCellDef>Tipo de Plaza</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index">
				    {{ row.tipo_plaza }}
				</mat-cell>
			    </ng-container>
			    <ng-container matColumnDef="vigenciaInicio">
				<mat-header-cell *matHeaderCellDef class="mat-cell-center">Vigencia Inicio</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index" class="mat-cell-center" [formGroupName]="i">
				    <minedu-datepicker 
					    label="Inicio" 
					    style="padding-top:10px;"
                        (dateChange)="onChangeEvent($event)"
					    [mineduFormControl]="formGrid.controls.ls_grid.controls[i].controls.ini"
					    [min]="minDate"
					    [max]="maxDate"
					    [formControl]="formGrid.controls.ls_grid.controls[i].controls.ini">
				    </minedu-datepicker>
				</mat-cell>
			    </ng-container>
			    <ng-container matColumnDef="vigenciaFin">
				<mat-header-cell *matHeaderCellDef class="mat-cell-center">Vigencia Fin</mat-header-cell>
				<mat-cell *matCellDef="let row; let i = index" class="mat-cell-center">
				    <minedu-datepicker 
					    label="Fin" style="padding-top:10px;"
					    [mineduFormControl]="formGrid.controls.ls_grid.controls[i].controls.fin"
					    [min]="minDateFin"
					    [max]="maxDateFin"
					    [formControl]="formGrid.controls.ls_grid.controls[i].controls.fin">
				    </minedu-datepicker>
				</mat-cell>
			    </ng-container>
                <ng-container matColumnDef="acciones">
                    <mat-header-cell *matHeaderCellDef>ACCIONES</mat-header-cell>
                    <mat-cell *matCellDef="let row; let i = index">
                        <div fxLayout="row" fxLayoutAlign="space-between center">
                            <!-- *ngIf="bandejaAdjudicacion.mostrarVerInformacion(row.codigo_estado_adjudicacion)" -->
                            <div class="mat-icon-table" style="margin-left: 2px;" 
                                    >
                                <button mat-stroked-button color="primary" class="sidebar-toggle btn-sm ml-2"
                                    aria-label="Ver información completa" matTooltip="Ver información completa"
                                    (click)="handleVerInformacion(row.id_plaza)">
                                    <mat-icon>info</mat-icon>
                                </button>
                            </div>
                        </div>
                    </mat-cell>
                </ng-container>                            
			    <mat-header-row *matHeaderRowDef="displayedColumnsAdjudicar; sticky: true"></mat-header-row>
			    <mat-row *matRowDef="let row; columns: displayedColumnsAdjudicar" (mouseover)="row.hovered = true"
								   (mouseout)="row.hovered = false" matRipple [@animate]="{ value: '*', params: { y: '100%' } }">
			    </mat-row>
			</mat-table>
		    </div>
		    </form>
		</div>
		<div class="panel-footer">
		    <div fxLayout="row" fxLayoutAlign="end center" class="mb-10">
			<div mat-dialog-actions class="p-20" fxLayout="row">
			    <button mat-raised-button color="primary" class="ml-4"(click)="handleAdjudicarPlaza()"
								      [@animate]="{value:'*', params:{delay:'300ms',scale:'.2'}}">
				<span class="material-icons">save</span>ADJUDICAR
			    </button>
			    <button mat-stroked-button class="ml-4" (click)="handleRetornar()">
				<span class="material-icons">keyboard_backspace</span>
				CANCELAR
			    </button>                            
			</div>
		    </div>
		</div>
	    </div>
	</div>
    </div>
</div>

