<div class="dialog-content-wrapper">
    <mat-toolbar matDialogTitle class="mat-accent m-0">
        <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
            <div fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="mr-4">description</mat-icon>
                <span class="title dialog-title">Motivo de no publicación de plazas</span>
            </div>
            <button mat-icon-button (click)="matDialogRef.close()" aria-label="Close dialog">
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>
    <div mat-dialog-content class="p-8 pb-0 m-0">
        <div fxLayout="column" *ngIf="motivoNoPublicacion">

            <!-- <div fxLayout="row" fxLayout.lt-md="column" fxFlex="100%" fxLayoutGap="12px" fxLayoutGap.lt-md="0">
                <div fxLayout="row" fxLayout.lt-sm="column" fxFlex="50%" fxFlex.lt-sm="100%" fxLayoutGap="12px">
                    <div fxLayoutAlign="start start" fxFlex="50%" fxFlex.xs="100%">
                        <div class="form-group">
                            <label>Plazas seleccionadas para no publicar:</label>
                            <p class="form-control-static">
                                {{motivoNoPublicacion.cantidadRegistros}}
                            </p>
                        </div>
                    </div>
                </div>
            </div> -->
            <div fxLayout="row" fxLayout.lt-md="column">
                <div fxLayout="row" fxLayout.lt-md="column" fxFlex="100%" fxLayoutGap="12px" fxLayoutGap.lt-md="0">
                    <div fxLayout="row" fxLayout.lt-sm="column" fxFlex="100%" fxFlex.lt-sm="100%" fxLayoutGap="12px">
                        <div fxLayoutAlign="start start" fxFlex="25%" fxFlex.xs="100%">
                            <div>
                                <span style="font-weight: bold">Motivo</span>
                                <br/>
                                <span>{{ motivoNoPublicacion.motivo }} </span>
                            </div>
                        </div>
                        <div fxLayoutAlign="start start" fxFlex="75%" fxFlex.xs="100%">
                            <div>
                                <span style="font-weight: bold">Detalle</span>
                                <br/>
                                <span>{{ motivoNoPublicacion.detalle }} </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div fxLayout="column" fxFlexAlign="flex-start" fxLayoutAlign="start none" style="width: 100%;">
                <fieldset class="fieldset-border">
                    <legend>Documentos de sustento</legend>
                    <div class="content-table" ngClass.lt-lg="scroll-grid">
                        <table mat-table class="minedu-table mt-12 mb-12" #table [dataSource]="dataSource"
                               [@animateStagger]="{value:'50'}">
                            <ng-container matColumnDef="index">
                                <th mat-header-cell *matHeaderCellDef>Nro</th>
                                <td mat-cell *matCellDef="let row; let i = index;">
                                    <p>{{i + 1}}</p>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="tipoDocumentoSustento">
                                <th mat-header-cell *matHeaderCellDef>TIPO DOCUMENTO</th>
                                <td mat-cell *matCellDef="let row">
                                    <p *ngIf="row.tipoDocumentoSustento">{{row.tipoDocumentoSustento}}</p>
                                    <p *ngIf="!row.tipoDocumentoSustento">No registrado</p>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="numeroDocumentoSustento">
                                <th mat-header-cell *matHeaderCellDef fxHide fxShow.gt-xs>Nº DOCUMENTO
                                </th>
                                <td mat-cell *matCellDef="let row" fxHide fxShow.gt-xs>
                                    <p *ngIf="row.numeroDocumentoSustento">{{row.numeroDocumentoSustento}}
                                    </p>
                                    <p *ngIf="!row.numeroDocumentoSustento">No registrado</p>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="tipoFormatoSustento">
                                <th mat-header-cell *matHeaderCellDef fxHide fxShow.gt-xs>TIPO FORMATO
                                </th>
                                <td mat-cell *matCellDef="let row" fxHide fxShow.gt-xs>
                                    <p *ngIf="row.tipoFormatoSustento">{{row.tipoFormatoSustento}}</p>
                                    <p *ngIf="!row.tipoFormatoSustento">No registrado</p>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="numeroFolios">
                                <th mat-header-cell *matHeaderCellDef fxHide fxShow.gt-xs>FOLIOS
                                </th>
                                <td mat-cell *matCellDef="let row" fxHide fxShow.gt-xs>
                                    <p *ngIf="row.numeroFolios">{{row.numeroFolios}}</p>
                                    <p *ngIf="!row.numeroFolios">No registrado</p>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="fechaEmision">
                                <th mat-header-cell *matHeaderCellDef fxHide fxShow.gt-xs>FECHA EMISIÓN
                                </th>
                                <td mat-cell *matCellDef="let row" fxHide fxShow.gt-xs>
                                    <p *ngIf="row.fechaEmision">{{row.fechaEmision | date:'dd/MM/yyyy'}}</p>
                                    <p *ngIf="!row.fechaEmision">No registrado</p>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="fechaRegistro">
                                <th mat-header-cell *matHeaderCellDef fxHide fxShow.gt-xs>FECHA REGISTRO
                                </th>
                                <td mat-cell *matCellDef="let row" fxHide fxShow.gt-xs>
                                    <p *ngIf="row.fechaRegistro">{{row.fechaRegistro | date:'dd/MM/yyyy'}}</p>
                                    <p *ngIf="!row.fechaRegistro">No registrado</p>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="opciones">
                                <th mat-header-cell *matHeaderCellDef>Opciones</th>
                                <td mat-cell *matCellDef="let row; let  i = index;">
                                    <div fxLayout="row" fxLayoutAlign="space-between center">
                                        <div class="mat-icon-table">
                                            <button type="button" mat-stroked-button color="primary"
                                                    class="sidebar-toggle btn-sm ml-2" (click)="handleInformacion(row)"
                                                    aria-label="Ver Información" matTooltip="Ver Información">
                                                <mat-icon class="">info</mat-icon>
                                            </button>
                                        </div>
                                        <div class="mat-icon-table">
                                            <button type="button" mat-stroked-button color="primary"
                                                    class="sidebar-toggle btn-sm" (click)="handleVerAdjunto(row)"
                                                    aria-label="Ver documento de sustento"
                                                    matTooltip="Ver documento de sustento">
                                                <mat-icon class="">save_alt</mat-icon>
                                            </button>
                                        </div>
                                    </div>
                                </td>
                            </ng-container>
                            <tr mat-header-row *matHeaderRowDef="displayedColumns;"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="selection.toggle(row)"
                                [ngClass]="{hovered: row.hovered, selected: selection.isSelected(row)}"
                                (mouseover)="row.hovered = true" (mouseout)="row.hovered = false"
                                [@animate]="{value:'*',params:{y:'100%'}}">
                            </tr>
                        </table>
                        <div class="no-results" *ngIf="!(loading | async)"
                             [style.display]="dataSource.data.length === 0 ? '' : 'none'">
                            No se encontraron registros
                        </div>
                        <div fxLayout="column" fxLayoutAlign="center center" class="spinner-container"
                             *ngIf="loading | async">
                            <mat-spinner diameter="50"></mat-spinner>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>

    </div>
    <div mat-dialog-actions class="panel-footer m-0" fxLayout="row" fxLayoutAlign="end center">
        <div class="pl-6">
            <minedu-button-cancel (mineduOnCancel)="handleCancelar()"></minedu-button-cancel>
        </div>
    </div>
</div>