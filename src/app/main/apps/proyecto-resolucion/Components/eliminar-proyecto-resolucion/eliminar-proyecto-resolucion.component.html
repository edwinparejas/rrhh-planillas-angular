<div class="dialog-content-wrapper">
    <mat-toolbar matDialogTitle class="mat-accent m-0">
        <mat-toolbar-row
            fxLayout="row"
            fxLayoutAlign="space-between center"
            class="titulo-dialog"
        >
            <div fxLayout="row" fxLayoutAlign="start center">
                <span class="title dialog-title">{{ dialogTitle }}</span>
            </div>
            <button
                mat-icon-button
                (click)="matDialogRef.close()"
                aria-label="Close dialog"
            >
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>

    <div mat-dialog-content class="p-8 pb-0 m-0">
        <div fxLayout="column" fxFlexAlign="flex-start" fxLayoutAlign="start none">
            <div *ngIf="working" fxLayout="column" fxLayoutAlign="center center">
                <mat-spinner [diameter]="50" style="margin: 0 auto"></mat-spinner>
                <span>Espere, estamos procesando tu solicitud</span>
            </div>
            <form [formGroup]="form" *ngIf="!working">
                <div fxLayout="column">
                    <div fxLayout="row" fxLayout.lt-md="column" fxFlex>
                        <div class="ml-4" fxLayoutAlign="start start" fxFlex="100%" fxFlex.lt-md="100%">
                            <mat-form-field
                                appearance="fill"
                                fxFlex="100%"
                                fxFlex.xs="100%"
                                [mineduFormFieldValidationState]="
                                    form.get('motivoEliminacion')
                                "
                            >
                                <mat-label
                                    [mineduFormRequiredLabel]="
                                        form.get('motivoEliminacion')
                                    "
                                    >Motivo de eliminación</mat-label
                                >
                                <textarea
                                    matInput
                                    formControlName="motivoEliminacion"
                                    placeholder="Motivo de eliminación"
                                    maxlength="250"
                                    rows="6"
                                    uppercase
                                ></textarea>

                                <mat-error>
                                    <minedu-form-field-validation-messages
                                        [mineduFormControl]="form.get('motivoEliminacion')"
                                    >
                                    </minedu-form-field-validation-messages>
                                </mat-error>
                            </mat-form-field>
                        </div>   
                    </div>         
                    <div fxLayout="row" fxLayout.lt-md="column" fxFlex>
                        <span><b>(*) Datos Obligatorios</b></span>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div mat-dialog-actions class="panel-footer m-0 pr-12" fxLayout="row" fxLayoutAlign="end center">
        <button mat-raised-button color="warn" (click)="handleEliminar()">
            <span class="material-icons">delete_forever</span>ELIMINAR
        </button>
        <button mat-raised-button (click)="handleCancelar()">
            <span class="material-icons">cancel</span> CERRAR
        </button>
    </div>
</div>
